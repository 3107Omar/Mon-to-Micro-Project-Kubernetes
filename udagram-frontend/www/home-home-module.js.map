{"version":3,"sources":["./src/app/feed/feed-item/feed-item.component.html","./src/app/feed/feed-list/feed-list.component.html","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.html","./src/app/feed/feed-upload/feed-upload.component.html","./src/app/home/home.page.html","./src/app/feed/feed-item/feed-item.component.scss","./src/app/feed/feed-item/feed-item.component.ts","./src/app/feed/feed-list/feed-list.component.scss","./src/app/feed/feed-list/feed-list.component.ts","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.scss","./src/app/feed/feed-upload/feed-upload-button/feed-upload-button.component.ts","./src/app/feed/feed-upload/feed-upload.component.scss","./src/app/feed/feed-upload/feed-upload.component.ts","./src/app/feed/feed.module.ts","./src/app/feed/services/feed.provider.service.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["export default \"<ion-card class=\\\"photo-card\\\" *ngIf=\\\"feedItem\\\">\\n  <ion-img [src]=\\\"feedItem.url\\\"></ion-img>\\n  <ion-card-content>\\n    <p>{{feedItem.caption}}</p>\\n  </ion-card-content>\\n</ion-card>\"","export default \"<div class=\\\"feed\\\">\\n  <app-feed-item \\n    *ngFor=\\\"let item of feedItems\\\"\\n    [feedItem]=\\\"item\\\">\\n  </app-feed-item>\\n</div>\"","export default \"<ion-button \\n  color=\\\"primary\\\" \\n  type=\\\"submit\\\"\\n  [disabled]=\\\"!isLoggedIn\\\"\\n  (click)=\\\"presentUploadForm($event)\\\">\\n  Create a New Post\\n</ion-button>\"","export default \"<form [formGroup]=\\\"uploadForm\\\" (submit)=\\\"onSubmit($event)\\\">`\\n    <label>\\n        <input type=\\\"file\\\" (change)=\\\"selectImage($event)\\\" accept=\\\"image/*\\\" style=\\\"display:none\\\"/>\\n        <img *ngIf=\\\"previewDataUrl\\\" [src]=\\\"previewDataUrl\\\" style=\\\"width:50px; height: 50px;\\\" />\\n        <a *ngIf=\\\"!previewDataUrl\\\" ion-button color=\\\"secondary\\\">\\n            Select a Photo\\n        </a>\\n    </label>\\n    <ion-item>\\n        <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Caption</ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"caption\\\" required></ion-input>\\n      </ion-item>\\n      <ion-button \\n        color=\\\"primary\\\" \\n        type=\\\"submit\\\"\\n        [disabled]=\\\"!uploadForm.valid || !file\\\">\\n        Post\\n      </ion-button>\\n</form>\\n\"","export default \"<ion-content>\\n    <app-feed-upload-button></app-feed-upload-button>\\n    <app-feed-list></app-feed-list>\\n</ion-content>\\n\"","export default \".photo-card {\\n  max-width: 500px;\\n  overflow: hidden;\\n  background: var(--ion-color-primary-contrast);\\n  margin: 30px 0px;\\n}\\n\\n.photo-card ion-img {\\n  max-height: 532px;\\n  overflow: hidden;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9yb290L2NkMDM1NC1tb25vbGl0aC10by1taWNyb3NlcnZpY2VzLXByb2plY3QvdWRhZ3JhbS1mcm9udGVuZC9zcmMvYXBwL2ZlZWQvZmVlZC1pdGVtL2ZlZWQtaXRlbS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVlZC9mZWVkLWl0ZW0vZmVlZC1pdGVtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLDZDQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvZmVlZC9mZWVkLWl0ZW0vZmVlZC1pdGVtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBob3RvLWNhcmR7XG4gICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0KTtcbiAgICBtYXJnaW46IDMwcHggMHB4O1xuICB9XG5cbi5waG90by1jYXJkIGlvbi1pbWcge1xuICBtYXgtaGVpZ2h0OiA1MzJweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICBcbn1cbiIsIi5waG90by1jYXJkIHtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QpO1xuICBtYXJnaW46IDMwcHggMHB4O1xufVxuXG4ucGhvdG8tY2FyZCBpb24taW1nIHtcbiAgbWF4LWhlaWdodDogNTMycHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufSJdfQ== */\"","import { Component, OnInit, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { FeedItem } from '../models/feed-item.model';\n\n@Component({\n  selector: 'app-feed-item',\n  templateUrl: './feed-item.component.html',\n  styleUrls: ['./feed-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FeedItemComponent implements OnInit {\n  @Input() feedItem: FeedItem;\n\n  constructor() { }\n\n  ngOnInit() {}\n}\n","export default \".feed {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  background: var(--ion-color-light-tint);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9yb290L2NkMDM1NC1tb25vbGl0aC10by1taWNyb3NlcnZpY2VzLXByb2plY3QvdWRhZ3JhbS1mcm9udGVuZC9zcmMvYXBwL2ZlZWQvZmVlZC1saXN0L2ZlZWQtbGlzdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZmVlZC9mZWVkLWxpc3QvZmVlZC1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1Q0FBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvZmVlZC9mZWVkLWxpc3QvZmVlZC1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gIC5mZWVkIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItbGlnaHQtdGludCk7XG4gIH0iLCIuZmVlZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodC10aW50KTtcbn0iXX0= */\"","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\nimport { FeedItem } from '../models/feed-item.model';\nimport { FeedProviderService } from '../services/feed.provider.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-feed-list',\n  templateUrl: './feed-list.component.html',\n  styleUrls: ['./feed-list.component.scss'],\n})\nexport class FeedListComponent implements OnInit, OnDestroy {\n  @Input() feedItems: FeedItem[];\n  subscriptions: Subscription[] = [];\n  constructor( private feed: FeedProviderService ) { }\n\n  async ngOnInit() {\n    this.subscriptions.push(\n      this.feed.currentFeed$.subscribe((items) => {\n      this.feedItems = items;\n    }));\n\n    await this.feed.getFeed();\n  }\n\n  ngOnDestroy(): void {\n    for (const subscription of this.subscriptions) {\n      subscription.unsubscribe();\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZlZWQvZmVlZC11cGxvYWQvZmVlZC11cGxvYWQtYnV0dG9uL2ZlZWQtdXBsb2FkLWJ1dHRvbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { FeedUploadComponent } from '../feed-upload.component';\nimport { AuthService } from 'src/app/auth/services/auth.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-feed-upload-button',\n  templateUrl: './feed-upload-button.component.html',\n  styleUrls: ['./feed-upload-button.component.scss'],\n})\nexport class FeedUploadButtonComponent implements OnInit, OnDestroy {\n\n  isLoggedIn: boolean;\n  loginSub: Subscription;\n\n  constructor(private modalController: ModalController, private auth: AuthService) { }\n\n  ngOnInit() {\n    this.auth.currentUser$.subscribe((user) => {\n      this.isLoggedIn = user !== null;\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.loginSub) {\n      this.loginSub.unsubscribe();\n    }\n  }\n\n  async presentUploadForm(ev: any) {\n    const modal = await this.modalController.create({\n      component: FeedUploadComponent,\n    });\n    return await modal.present();\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZlZWQvZmVlZC11cGxvYWQvZmVlZC11cGxvYWQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\n\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { FeedProviderService } from '../services/feed.provider.service';\n\nimport { LoadingController, ModalController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-feed-upload',\n  templateUrl: './feed-upload.component.html',\n  styleUrls: ['./feed-upload.component.scss'],\n})\nexport class FeedUploadComponent implements OnInit {\n  previewDataUrl;\n  file: File;\n  uploadForm: FormGroup;\n\n  constructor(\n    private feed: FeedProviderService,\n    private formBuilder: FormBuilder,\n    private loadingController: LoadingController,\n    private modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.uploadForm = this.formBuilder.group({\n      caption: new FormControl('', Validators.required)\n    });\n  }\n\n  setPreviewDataUrl(file: Blob) {\n    const reader  = new FileReader();\n    reader.onloadend = () => {\n      this.previewDataUrl = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  selectImage(event) {\n    const file = event.srcElement.files;\n\n    if (!file) {\n      return;\n    }\n    this.file = file[0];\n    this.setPreviewDataUrl(this.file);\n\n  }\n\n  onSubmit($event) {\n    $event.preventDefault();\n    this.loadingController.create();\n\n    if (!this.uploadForm.valid || !this.file) { return; }\n    this.feed.uploadFeedItem(this.uploadForm.controls.caption.value, this.file)\n      .then((result) => {\n        this.modalController.dismiss();\n        this.loadingController.dismiss();\n      });\n  }\n\n  cancel() {\n    this.modalController.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeedListComponent } from './feed-list/feed-list.component';\nimport { FeedItemComponent } from './feed-item/feed-item.component';\nimport { FeedUploadComponent } from './feed-upload/feed-upload.component';\nimport { FeedUploadButtonComponent } from './feed-upload/feed-upload-button/feed-upload-button.component';\n\nimport { FeedProviderService } from './services/feed.provider.service';\n\nconst entryComponents = [FeedUploadComponent];\nconst components = [FeedListComponent, FeedItemComponent, FeedUploadComponent, FeedUploadButtonComponent];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule\n  ],\n  declarations: components,\n  exports: components,\n  entryComponents: entryComponents,\n  providers: [FeedProviderService]\n})\nexport class FeedModule {}\n","import { Injectable } from '@angular/core';\nimport { FeedItem, feedItemMocks } from '../models/feed-item.model';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ApiService } from '../../api/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedProviderService {\n  currentFeed$: BehaviorSubject<FeedItem[]> = new BehaviorSubject<FeedItem[]>([]);\n\n  constructor(private api: ApiService) { }\n\n  async getFeed(): Promise<BehaviorSubject<FeedItem[]>> {\n    const req = await this.api.get('/feed');\n    const items = <FeedItem[]> req.rows;\n    this.currentFeed$.next(items);\n    return Promise.resolve(this.currentFeed$);\n  }\n\n  async uploadFeedItem(caption: string, file: File): Promise<any> {\n    const res = await this.api.upload('/feed', file, {caption: caption, url: file.name});\n    const feed = [res, ...this.currentFeed$.value];\n    this.currentFeed$.next(feed);\n    return res;\n  }\n\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { FeedModule } from '../feed/feed.module';\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    FeedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  appName = environment.appName;\n}\n"],"sourceRoot":"webpack:///"}